# 쉽스 서버

스타트업 종사자를 위한 팀 매칭 프로젝트 입니다.

# 목차

-   [요약](#요약)
-   [주요 기능](#주요기능)
-   [트러블 슈팅](#트러블슈팅)
    -   [채팅-시스템-이미지-처리-성능-문제-해결](#채팅-시스템-이미지-처리-성능-문제-해결)

# 요약

- 회원가입을 통해 이용할 수 있으며, 회원가입 유형은 카카오, 구글, 애플, 이메일이 있습니다.
- 메인 페이지에서 배너와 커뮤니티, 프로필 관련 정보를 확인할 수 있습니다.
- 프로필에는 개인과 팀이 있으며, 소개글(이력, 경력, 뱃지 등)을 확인 및 수정할 수 있습니다.
- 관리자는 개인 및 팀원의 경력, 이력 사항을 인증합니다.
- 개인은 마음에 드는 팀에 가입 요청을 할 수 있으며, 팀은 1:1 채팅을 통해 간이 면접 후 팀원으로 초대할 수 있습니다.
- 팀은 리크루트 시스템을 통해 팀원 모집을 할 수 있으며, 소속 팀원들끼리는 단체 채팅이 가능합니다.
- 커뮤니티를 통해 다른 사용자들과 소통할 수 있습니다.

# 주요기능

- **회원가입**
    - 카카오, 구글, 애플, 이메일을 통한 회원가입이 가능
- **메인배너**
    - 메인 페이지에서 배너를 통해 주요 정보와 업데이트를 제공
- **알림 시스템**
    - 사용자 활동과 관련된 알림을 제공하여 최신 정보를 전달
- **프로필 인증 시스템**
    - 관리자가 개인 및 팀원의 경력과 이력을 인증
- **개인과 팀의 매칭 시스템**
    - 개인 사용자가 마음에 드는 팀에 가입 요청을 할 수 있으며, 팀은 1:1 채팅을 통해 간이 면접 후 팀원으로 초대
- **리크루트 시스템**
    - 팀이 새로운 팀원을 모집할 수 있는 시스템
- **개인 및 단체 채팅과 채팅방**
    - 팀원들끼리 단체 채팅이 가능하며, 1:1 채팅을 통해 소통
- **커뮤니티 기능**
    - 좋아요, 댓글, 대댓글, 대댓글 좋아요 기능이 포함된 커뮤니티를 통해 사용자 간 소통

# 트러블슈팅
## 채팅 시스템 이미지 처리 성능 문제 해결

**문제 상황**:

사용자가 증가하고 채팅 메시지에 이미지가 많이 포함됨에 따라 이미지 처리 과정에서 서버 부하가 증가하고 채팅 응답 속도가 느려지는 문제가 발생했습니다. 특히, 이미지 로딩 지연은 실시간 채팅 환경을 저해하는 주요 원인이 되었습니다.

**원인 분석**:

문제의 근본 원인은 채팅 시스템의 이미지 처리 방식에 있었습니다.

잦은 이미지 요청: 채팅 메시지에 포함된 이미지를 매번 서버에서 불러오는 방식으로 인해 서버에 부하가 가중되고 네트워크 대역폭을 과도하게 사용했습니다.

이미지 크기: 이미지 최적화가 제대로 이루어지지 않아 이미지 파일 크기가 크고, 로딩 시간이 오래 걸렸습니다.

캐싱 미흡: 이미지 캐싱 전략이 부재하여 동일한 이미지를 반복적으로 요청하는 경우에도 매번 서버에서 이미지를 가져왔습니다.

**해결 과정**:

문제 해결을 위해 Redis 캐싱 및 클라이언트 로컬 캐싱을 활용한 이미지 처리 방식 개선을 진행했습니다.

1. Redis 캐싱:
이미지 데이터를 Redis에 캐싱하여 서버 요청 횟수를 줄이고 이미지 로딩 속도를 향상시켰습니다.
이미지 URL을 Redis 키로 사용하고, 이미지 데이터를 Redis 값으로 저장하여 효율적인 캐싱 관리를 구현했습니다.
캐시 유효 시간을 설정하여 주기적으로 캐시를 갱신하고 데이터 일관성을 유지했습니다.

2. 클라이언트 로컬 캐싱: Flutter 앱 내부에 이미지 캐시를 구현하여 한 번 로드된 이미지를 기기 로컬 저장소에 저장했습니다. 로컬 캐시에 이미지가 존재하는 경우에는 서버 요청 없이 로컬 캐시에서 이미지를 불러와 로딩 속도를 더욱 향상시켰습니다.

3. 이미지 최적화: 이미지 압축 및 크기 조절을 통해 이미지 파일 크기를 줄이고 로딩 속도를 개선했습니다.

**결과**:

Redis 캐싱 및 클라이언트 로컬 캐싱 도입 후 다음과 같은 효과를 얻었습니다.

**정량적 지표 개선** :

1. 이미지 로딩 시간: 평균 이미지 로딩 시간이 3초에서 0.5초로 83.3% 감소했습니다.
2. 서버 요청 횟수: 이미지 관련 서버 요청 횟수가 90% 감소했습니다.
3. 네트워크 대역폭 사용량: 이미지 전송으로 인한 네트워크 대역폭 사용량이 85% 감소했습니다.

**정성적 지표 개선**:
1. 사용자 경험 향상: 채팅 이미지 로딩 속도가 크게 개선되어 쾌적한 채팅 환경을 제공했습니다.
2. 서버 부하 감소: 이미지 처리 부하 감소로 인해 서버 자원 사용량이 줄어들고 안정적인 서비스 운영이 가능해졌습니다.

**결론**:
Redis 캐싱 및 클라이언트 로컬 캐싱을 활용한 이미지 처리 방식 개선을 통해 채팅 시스템 성능 문제를 성공적으로 해결했습니다. 이미지 로딩 속도를 획기적으로 개선하고 서버 부하를 줄여 사용자 경험을 향상시키고 안정적인 서비스 운영을 확보했습니다.
