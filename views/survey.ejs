<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css"> <!-- í”¼ì”¨ë²„ì „ -->
  <link rel="stylesheet" href="css/responsive.css"> <!-- ëª¨ë°”ì¼ë²„ì „ ë°˜ì‘í˜• -->
  <title> AFG EVENT </title>
<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.header {
  text-align: center;
  padding: 32px;
}

.row {
  display: -ms-flexbox; /* IE 10 */
  display: flex;
  -ms-flex-wrap: wrap; /* IE 10 */
  flex-wrap: wrap;
}

/* Create two equal columns that sits next to each other */
.column {
  -ms-flex: 50%; /* IE 10 */
  flex: 50%;
}

.column img {
  vertical-align: middle;
}

/* Style the buttons */
.btn {
  border: none;
  outline: none;
  padding: 10px 16px;
  background-color: #f1f1f1;
  cursor: pointer;
  font-size: 18px;
}

.nextbtn {
  border: 4px solid white;
  border-radius: 12pt;
  background-color: black;
  width: 180pt;
  height: 50pt;
  cursor: pointer;
  font-size: 16pt;
  color: white;
  text-align: center;
  font-weight: bold;
}

.btn:hover {
  background-color: #ddd;
}

.btn.active {
  background-color: #666;
  color: white;
}

.small {
	font-size: xx-small;
}
.larger {
	font-size: larger;
}
.point {
	font-size: 18pt;
    color: black;
    text-align: left;
}
.percent {
	font-size: 200%;
}

.text {
    margin-left: 10px; 
    margin-right: 10px; 
    border: 0; 
    outline: 0; 
    border-bottom:  2px solid lightgray; 
    background-color: whitesmoke; 
    font-size: 18pt;
}

@media all and (max-width: 768px){

  .text {
    font-size: 12pt;
  }
}

</style>
</head>
<body>
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js" ></script>
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
  
  <button type="button" style="margin-top: 15pt; margin-left: 15pt; margin-bottom: 10pt; border: 0; background-color: white;" onclick="callBack()">
    <img src="/images/backArrow.jpg" > 
  </button>
  <div class="row" id="step1"> 
    <div class="column">
      <img src="/images/02.jpg" style="width:100%;">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ì„±í•¨ì„ ì•Œë ¤ì£¼ì„¸ìš”.</strong>
      <strong class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; line-height: 40pt;">ì£¼ë¯¼ë“±ë¡ìƒ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”.</strong>
      <input class="text"  name="nameField" id="nameField" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”."><br></br>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt;" onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step2" style="display: none;"> 
    <div class="column">
      <img src="/images/03.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">í•¸ë“œí°ë²ˆí˜¸ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.</strong>
      <strong class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; line-height: 40pt;">í˜œíƒì œê³µ ë° ìƒë‹´ì„ ìœ„í•´ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”!</strong>
      <input class="text"  name="phoneField" id="phoneField" placeholder="í•¸ë“œí° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.(- ì œì™¸, ìˆ«ìë§Œ ì…ë ¥)" onkeypress="validate(event)" maxlength="10"><br></br>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step3" style="display: none;"> 
    <div class="column">
      <img src="/images/04.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ì„±ë³„ì„ ì•Œë ¤ì£¼ì„¸ìš”.</strong>
      <strong class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; line-height: 40pt;">ì„±ë³„ì— ë”°ë¥¸ í˜œíƒì´ ìƒì´í•˜ë¯€ë¡œ, ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.</strong>
      <form style="margin-left: 10px; margin-top: 10pt; margin-bottom: 20pt; font-size: 16pt;">
          <input type="radio" name = "sex" value = "1" id="MALE" checked onclick="getGender(event)"> ë‚¨ì„±
          <br></br>
          <input type="radio" name = "sex" value = "0" onclick="getGender(event)"> ì—¬ì„±
      </form>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step4" style="display: none;">  
    <div class="column">
      <img src="/images/05.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ê±°ì£¼í•˜ê³  ê³„ì‹  ì§€ì—­ì„ ì•Œë ¤ì£¼ì„¸ìš”.(ë„/ì‹œ ê¹Œì§€)</strong>
      <strong class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; line-height: 40pt;">ex)ì„œìš¸ì‹œ, ê²½ê¸°ë„ í™”ì„±ì‹œ, ëŒ€ì „ì‹œ</strong>
      <input class="text"  name="locationField" id="locationField" placeholder="ê±°ì£¼í•˜ëŠ” ì§€ì—­ì„ ì…ë ¥í•˜ì„¸ìš”"><br></br>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step5" style="display: none;">  
    <div class="column">
      <img src="/images/06.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ë‚˜ì´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.</strong>
      <strong class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; line-height: 40pt;">í˜„ì¬ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</strong>
      <input class="text"  name="ageField" id="ageField" placeholder="ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.(ìˆ«ì)" onkeypress="validate(event)"><br></br>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step6" style="display: none;">  
    <div class="column">
      <img src="/images/08.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ìµœê·¼ 3ê°œì›” ë‚´ ë³‘ì›ì§„ë£Œë¥¼ ë°›ì€ì‹  ì ì´ ìˆë‚˜ìš”?</strong>
      <form style="margin-left: 10px; margin-top: 10pt; margin-bottom: 20pt; font-size: 16pt;">
        <input type="radio" name = "doTreatment" value = "1" id="doTreatment" checked onclick="getDoTreatment(event)"> ë„¤
        <br></br>
        <input type="radio" name = "doTreatment" value = "0" onclick="getDoTreatment(event)"> ì•„ë‹ˆì˜¤
     </form>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step7" style="display: none;">  
    <div class="column">
      <img src="/images/015.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; margin-top: 10px;">ë¬´ë£Œë¡œ ê±´ê°•ê²€ì§„ì„ ë°›ê³ ì‹¶ì€ í”„ë¡œê·¸ë¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”.(ë‹¤ìˆ˜ì„ íƒ ê°€ëŠ¥)</strong>
      <p class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; ">ì •ìƒë‚´ìˆ˜ê°€ 25ë§Œì› ìƒë‹¹ì˜ ê²€ì§„ì„ ë¬´ë£Œë¡œ ì§€ì›í•´ë“œë¦½ë‹ˆë‹¤.ğŸ™‚ (ê¸°ë³¸ í•­ëª© ì´ì™¸ì˜ ê²€ì‚¬ì—ëŠ” ë³„ë„ì˜ ê¸ˆì•¡ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)</p>
      <form style="margin-left: 10px; margin-top: 10pt; margin-bottom: 20pt; font-size: 16pt; vertical-align: middle; line-height: 16pt;">
        <input type="radio" name = "stomach" id="stomach" value = 1> ìœ„ë‚´ì‹œê²½           <br></br>
        <input type="radio" name = "largeintestine" id="largeintestine" value = 1> ëŒ€ì¥ ë‚´ì‹œê²½          <br></br>
        <input type="radio" name = "thyroidgland" id="thyroidgland" value = 1> ê°‘ìƒì„  ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "epigastrium" id="epigastrium" value = 1> ìƒë³µë¶€ ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "liver" id="liver" value = 1> ê°„ ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "kidney" id="kidney" value = 1> ì‹ ì¥ ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "pancreas" id="pancreas" value = 1> ì·Œì¥ ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "spleen" id="spleen" value = 1> ë¹„ì¥ ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "gallbaldder" id="gallbaldder" value = 1> ë‹´ë‚­ ì´ˆìŒíŒŒ          <br></br>
        <input type="radio" name = "precisionBlood" id="precisionBlood" value = 1> ì •ë°€í˜ˆì•¡ê²€ì‚¬          <br></br>
        <input type="radio" name = "precisionUrine" id="precisionUrine" value = 1> ì •ë°€ì†Œë³€ê²€ì‚¬          <br></br>
        <input type="radio" name = "etc" id="etc" value = 1> ê¸°íƒ€(ìƒë‹´)          
     </form>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step8" style="display: none;">  
    <div class="column">
      <img src="/images/13.png" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ê±´ê°•ê²€ì§„ ì „ ì–´ì„¼í‹± í”Œë˜ë„ˆë¥¼ í†µí•´ ë³´ì¥ë¶„ì„ ë°›ìœ¼ì‹œëŠ” ê²ƒì— ëŒ€í•´ ë™ì˜í•˜ì‹œë‚˜ìš”?</strong>
      <p class="point" style="margin-left: 10px; font-weight: normal; font-size: 14pt; line-height: 40pt;">ê±´ê°•ê²€ì§„ í˜œíƒê³¼ ì–´ì„¼í‹± í”Œë˜ë„ˆì˜ ë³´ì¥ë¶„ì„ì„ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆë„ë¡ ë™ì˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!</p>
      <a href="https://www.sheeps.kr/afg" style="margin-left: 10px;" target="_blank"> ì•½ê´€ì „ì²´ë³´ê¸° </a>
      <form style="margin-left: 10px; margin-top: 10pt; margin-bottom: 20pt; font-size: 16pt; vertical-align: middle;">
        <input type="radio" name = "guaranteeAnalysis" value = "1" id="guaranteeAnalysis" checked onclick="getGuaranteeAnalysis(event)"> ë™ì˜          <br></br>
        <input type="radio" name = "guaranteeAnalysis" value = "0" onclick="getGuaranteeAnalysis(event)"> ë¹„ë™ì˜
     </form>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callNext()">ë‹¤ìŒ</button>
    </div>
  </div>

  <div class="row" id="step9" style="display: none;">  
    <div class="column">
      <img src="/images/11.jpg" style="width:100%">
    </div>
    <div class="column" style="background-color :whitesmoke; align-items: left;  display: flex;  justify-content: center; flex-direction: column; padding-left: 10pt; " >
      <strong class="point" style="margin-left: 10px; line-height: 40pt;">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</strong>
      <form style="margin-left: 10px; margin-top: 10pt; margin-bottom: 20pt; font-size: 16pt; vertical-align: middle;">
        <input type="radio" name = "collecting" value = "1" id="collecting" checked onclick="getCollecting(event)"> ë™ì˜          <br></br>
        <input type="radio" name = "collecting" value = "0" onclick="getCollecting(event)"> ë¹„ë™ì˜
     </form>
      <button class="nextbtn" style="margin-left: 10px; line-height: 40pt; " onclick="callSubmit()">ì œì¶œ</button> 
    </div>
  </div>
<script>

var Personal = {
    name : "",
    phoneNumber : "",
    sex : 1,
    location : "",
    age : 0,
    doTreatment : false,
    stomach : false,
    largeintestine : false,
    thyroidgland : false,
    epigastrium : false,
    liver : false,
    kidney : false,
    pancreas : false,
    spleen : false,
    gallbaldder : false,
    precisionBlood : false,
    precisionUrine : false,
    etc : false,
    guaranteeAnalysis : true,
    collecting : true
};

var step = 1;

function validate(evt) {
  var theEvent = evt || window.event;

  // Handle paste
  if (theEvent.type === 'paste') {
      key = event.clipboardData.getData('text/plain');
  } else {
  // Handle key press
      var key = theEvent.keyCode || theEvent.which;
      key = String.fromCharCode(key);
  }
  var regex = /[0-9]|\./;
  if( !regex.test(key) ) {
    theEvent.returnValue = false;
    if(theEvent.preventDefault) theEvent.preventDefault();
  }
}

function checkNext() {
  var bCheck = true;

  switch(step){
    case 1 : bCheck = document.getElementById('nameField').value ? true : false; break;
    case 2 : bCheck = document.getElementById('phoneField').value ? true : false; break;
    case 3 : break;
    case 4 : bCheck = document.getElementById('locationField').value ? true : false; break;
    case 5 : bCheck = document.getElementById('ageField').value ? true : false; break;
    case 6 : break;
    case 7 : break;
    case 8 : break;
    case 9 : break;
  }

  return bCheck;
}

function callNext() {
    if(checkNext() == true){
      document.getElementById("step" + step.toString()).style.display = "none";

      switch(step){
        case 1 : Personal.name = document.getElementById('nameField').value; break;
        case 2 : Personal.phoneNumber = document.getElementById('phoneField').value; break;
        case 3 : break;
        case 4 : Personal.location = document.getElementById('locationField').value; break;
        case 5 : Personal.age = document.getElementById('ageField').value; break;
        case 6 : break;
        case 7 : 
        {
            if(document.getElementById('stomach').checked){ Personal.stomach = document.getElementById('stomach').value == "1" ? true : false }
            if(document.getElementById('largeintestine').checked){ Personal.largeintestine = document.getElementById('largeintestine').value == "1" ? true : false }
            if(document.getElementById('thyroidgland').checked){ Personal.thyroidgland = document.getElementById('thyroidgland').value == "1" ? true : false }
            if(document.getElementById('epigastrium').checked){ Personal.epigastrium = document.getElementById('epigastrium').value == "1" ? true : false }
            if(document.getElementById('liver').checked){ Personal.liver = document.getElementById('liver').value == "1" ? true : false }
            if(document.getElementById('kidney').checked){ Personal.kidney = document.getElementById('kidney').value == "1" ? true : false }
            if(document.getElementById('pancreas').checked){ Personal.pancreas = document.getElementById('pancreas').value == "1" ? true : false }
            if(document.getElementById('spleen').checked){ Personal.spleen = document.getElementById('spleen').value == "1" ? true : false }
            if(document.getElementById('gallbaldder').checked){ Personal.gallbaldder = document.getElementById('gallbaldder').value == "1" ? true : false }
            if(document.getElementById('precisionBlood').checked){ Personal.precisionBlood = document.getElementById('precisionBlood').value == "1" ? true : false }
            if(document.getElementById('precisionUrine').checked){ Personal.precisionUrine = document.getElementById('precisionUrine').value == "1" ? true : false }
            if(document.getElementById('etc').checked){ Personal.etc = document.getElementById('etc').value == "1" ? true : false }
        }
        break;
        case 8 : break;
        case 9 : break;
      }

      step++;

      document.getElementById("step" + step.toString()).style.display = "";
    }else{
      alert('ë‚´ìš©ì„ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
    }
}

function callBack() {
    document.getElementById("step" + step.toString()).style.display = "none";

    step--;

    if(step == 0){
      history.back();
    }
    else{
      document.getElementById("step" + step.toString()).style.display = "";
    }
}

function callSubmit() {
  var formData = {};
  formData.name = Personal.name;
  formData.phoneNumber = Personal.phoneNumber;
  formData.sex = Personal.sex;
  formData.location = Personal.location;
  formData.age = Personal.age;
  formData.doTreatment = Personal.doTreatment;
  formData.stomach = Personal.stomach;
  formData.largeintestine = Personal.largeintestine;
  formData.thyroidgland = Personal.thyroidgland;
  formData.epigastrium = Personal.epigastrium;
  formData.liver = Personal.liver;
  formData.kidney = Personal.kidney;
  formData.pancreas = Personal.pancreas;
  formData.spleen = Personal.spleen;
  formData.gallbaldder = Personal.gallbaldder;
  formData.precisionBlood = Personal.precisionBlood;
  formData.precisionUrine = Personal.precisionUrine;
  formData.etc = Personal.etc;
  formData.guaranteeAnalysis = Personal.guaranteeAnalysis;
  formData.collecting = Personal.collecting;

  jQuery.ajax({
  url: "/InsertTest", //cross-domain errorê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì£¼ì„¸ìš”
      type: 'POST',
      contentType: 'application/json',
      dataType: 'json',
      data: JSON.stringify(formData)
  }).done(function(data) {
    winClose();
    alert( "ì„±ê³µì ìœ¼ë¡œ ì„¤ë¬¸ì¡°ì‚¬ì— ì‘í•˜ì…¨ìŠµë‹ˆë‹¤." );
  }).fail(function(jqXHR) {
    alert( "ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”." );
  })
}

function winClose(){
    window.close();
    self.close();
    window.opener = window.location.href; self.close();
    window.open('about:blank','_self').close();
}

function getGender(event){
  Personal.sex = event.target.value == 1 ? true : false;
}

function getDoTreatment(event){
  Personal.doTreatment = event.target.value == 1 ? true : false;
}

function getGuaranteeAnalysis(event){
  Personal.guaranteeAnalysis = event.target.value == 1 ? true : false;
}

function getCollecting(event){
  Personal.collecting = event.target.value == 1 ? true : false;
}

</script>

</body>
</html>